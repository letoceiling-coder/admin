# ADMIN Panel - Laravel 10

–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏ –∏ –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π CRM –ø—Ä–æ–µ–∫—Ç–∞.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Laravel 10 (PHP 8.2)
- **Auth**: Laravel Sanctum (SPA authentication)
- **Frontend**: Vue 3 (Composition API, `<script setup>`)
- **State Management**: Pinia
- **Routing**: Vue Router
- **HTTP Client**: Axios
- **Styling**: Tailwind CSS
- **Build Tool**: Vite

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ (user, manager, administrator, developer)
- –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ `/admin/*` –¥–ª—è manager/administrator
- SPA –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Laravel Sanctum

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏
- –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
- –ü–æ–ª—è: –¥–æ–º–µ–Ω, –ª–æ–≥–∏–Ω, –¥–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–ª–∞–Ω, API —Ç–æ–∫–µ–Ω, –¥–∞–Ω–Ω—ã–µ –æ–± –æ–ø–ª–∞—Ç–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
- –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è manager/administrator –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö

### –ü–ª–∞–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–ª–∞–Ω (standard)
- –ü—Ä–µ–º–∏—É–º –ø–ª–∞–Ω (premium)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ JSON –ø–æ–ª–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM
- –ü—É–±–ª–∏—á–Ω—ã–π API endpoint `/api/v1/subscription-applications` –¥–ª—è –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–æ–∫ –æ—Ç CRM
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ API —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞—è–≤–∫–∏: 3 –¥–Ω—è
- Database Notifications –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- PHP >= 8.2
- Composer
- Node.js >= 18
- MySQL >= 8.0

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/letoceiling-coder/admin.git
cd admin
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
composer install
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```bash
cp .env.example .env
php artisan key:generate
```

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ `.env`**
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel_admin
DB_USERNAME=root
DB_PASSWORD=
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä—ã**
```bash
php artisan migrate
php artisan db:seed
```

6. **–°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**
```bash
npm run build
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

7. **–°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
```bash
php artisan user:create
# –∏–ª–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
php artisan user:create --email=admin@example.com --password=password123 --name="Admin User"
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:

```env
APP_NAME="ADMIN Panel"
APP_URL=http://admin.loc

DB_DATABASE=laravel_admin

# –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
# APP_CRM_URL=http://crm.loc/api/v1/
```

### API Endpoints

#### –ü—É–±–ª–∏—á–Ω—ã–µ (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/v1/ping` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API –∏ —Ç–µ–∫—É—â–µ–π –ë–î
- `POST /api/v1/subscription-applications` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É (–¥–ª—è CRM)

#### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- `GET /api/admin/plans` - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
- `GET /api/admin/subscribers` - –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `GET /api/admin/subscribers/{id}` - –î–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
- `GET /api/admin/subscription-applications` - –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
- `POST /api/admin/subscription-applications/{id}/approve` - –û–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É
- `POST /api/admin/subscription-applications/{id}/reject` - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ CRM-ADMIN](docs/PLAN_CRM_ADMIN_INTEGRATION.md)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](docs/TROUBLESHOOTING_CRM_ADMIN.md)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
php artisan test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ ping endpoint
curl http://admin.loc/api/v1/ping

# –û–∂–∏–¥–∞–µ—Ç—Å—è: {"ok":true,"db":"laravel_admin"}
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
admin/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ Console/Commands/        # Artisan –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Admin/       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ V1/          # –ü—É–±–ª–∏—á–Ω—ã–µ API endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Api/             # –û–±—â–∏–µ API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Middleware/          # Middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Requests/            # Form Requests
‚îÇ   ‚îú‚îÄ‚îÄ Models/                  # Eloquent –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ Notifications/           # Database Notifications
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ seeders/                 # –°–∏–¥–µ—Ä—ã
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                 # Axios –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router/              # Vue Router
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stores/              # Pinia stores
‚îÇ   ‚îî‚îÄ‚îÄ views/                   # Blade —à–∞–±–ª–æ–Ω—ã
‚îî‚îÄ‚îÄ routes/
    ‚îú‚îÄ‚îÄ api.php                  # API –º–∞—Ä—à—Ä—É—Ç—ã
    ‚îî‚îÄ‚îÄ web.php                  # Web –º–∞—Ä—à—Ä—É—Ç—ã
```

## üîê –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

- **user** (level 1) - –ë–∞–∑–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **manager** (level 2) - –ú–µ–Ω–µ–¥–∂–µ—Ä (–¥–æ—Å—Ç—É–ø –∫ `/admin/*`)
- **administrator** (level 3) - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–¥–æ—Å—Ç—É–ø –∫ `/admin/*`)
- **developer** (level 4) - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Laravel framework, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è open-sourced software –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](https://opensource.org/licenses/MIT).

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- [CRM Project](https://github.com/letoceiling-coder/crm) - –ü—Ä–æ–µ–∫—Ç CRM —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ ADMIN

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏: `storage/logs/laravel.log`
2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ë–î: `php artisan config:show database.connections.mysql.database`
3. –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π endpoint: `http://admin.loc/api/v1/ping`
