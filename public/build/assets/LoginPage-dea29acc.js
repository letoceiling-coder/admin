import{u as k,b as w,d as h,e as _,r as V,o as d,c as l,a as t,w as S,t as C,f as N,g as m,v as b,h as q,i,j as p,k as y,l as x}from"./app-5cd435e6.js";const A={class:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center px-4"},B={class:"w-full max-w-md space-y-6"},M={class:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-sm"},U={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},j={class:"list-disc list-inside"},D={class:"flex items-center"},E=["disabled"],P={key:0},R={key:1},T={class:"text-center space-y-2"},L={class:"text-sm text-gray-600 dark:text-gray-400"},W={class:"text-sm text-gray-600 dark:text-gray-400"},G={__name:"LoginPage",setup(z){const g=k(),f=w(),n=h(),c=_(()=>n.loading),a=x(""),r=x({email:"",password:"",remember:!1});async function v(){var u,e;a.value="";try{await n.login({email:r.value.email,password:r.value.password,remember:r.value.remember});const s=f.query.redirect;n.hasAdminPanelAccess?g.push(s&&String(s).startsWith("/admin")?s:{name:"admin.dashboard"}):g.push({path:"/"})}catch(s){const o=((e=(u=s.response)==null?void 0:u.data)==null?void 0:e.message)??"Ошибка входа. Проверьте данные.";a.value=o}}return(u,e)=>{const s=V("router-link");return d(),l("div",A,[t("div",B,[e[10]||(e[10]=t("div",{class:"text-center"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Вход в систему"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Введите ваши учетные данные")],-1)),t("div",M,[t("form",{onSubmit:S(v,["prevent"]),class:"space-y-4"},[a.value?(d(),l("div",U,[t("ul",j,[t("li",null,C(a.value),1)])])):N("",!0),t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email",-1)),m(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>r.value.email=o),type:"email",required:"",autofocus:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"your@email.com"},null,512),[[b,r.value.email]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Пароль",-1)),m(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>r.value.password=o),type:"password",required:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"••••••••"},null,512),[[b,r.value.password]])]),t("div",D,[m(t("input",{id:"remember","onUpdate:modelValue":e[2]||(e[2]=o=>r.value.remember=o),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500"},null,512),[[q,r.value.remember]]),e[5]||(e[5]=t("label",{for:"remember",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Запомнить меня ",-1))]),t("button",{type:"submit",disabled:c.value,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[c.value?(d(),l("span",R,"Вход...")):(d(),l("span",P,"Войти"))],8,E)],32)]),t("div",T,[t("p",L,[e[7]||(e[7]=i(" Нет аккаунта? ",-1)),p(s,{to:"/admin/register",class:"text-primary hover:underline"},{default:y(()=>[...e[6]||(e[6]=[i("Зарегистрироваться",-1)])]),_:1})]),t("p",W,[e[9]||(e[9]=i(" Забыли пароль? ",-1)),p(s,{to:"/admin/forgot-password",class:"text-primary hover:underline"},{default:y(()=>[...e[8]||(e[8]=[i("Восстановить",-1)])]),_:1})])])])])}}};export{G as default};
