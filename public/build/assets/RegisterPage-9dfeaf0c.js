import{u as v,d as h,e as _,r as V,o as d,c as n,a as t,w as j,t as q,f as B,g as i,v as u,i as f,j as N,k as S,l as y}from"./app-25073f1d.js";const U={class:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center px-4"},C={class:"w-full max-w-md space-y-6"},E={class:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-sm"},D={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},M={class:"list-disc list-inside"},R=["disabled"],T={key:0},$={key:1},A={class:"text-center text-sm text-gray-600 dark:text-gray-400"},z={__name:"RegisterPage",setup(O){const x=v(),m=h(),g=_(()=>m.loading),s=y(""),r=y({name:"",email:"",password:"",password_confirmation:""});function w(a){return!a||typeof a!="object"?null:Object.values(a).flat().filter(Boolean).join(" ")}async function k(){var a,e,l,o;s.value="";try{await m.register({name:r.value.name,email:r.value.email,password:r.value.password,password_confirmation:r.value.password_confirmation}),x.push({path:"/"})}catch(p){const b=((e=(a=p.response)==null?void 0:a.data)==null?void 0:e.message)??"Ошибка регистрации.",c=w((o=(l=p.response)==null?void 0:l.data)==null?void 0:o.errors);s.value=c?`${b} ${c}`:b}}return(a,e)=>{const l=V("router-link");return d(),n("div",U,[t("div",C,[e[11]||(e[11]=t("div",{class:"text-center"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Регистрация"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Создайте новый аккаунт")],-1)),t("div",E,[t("form",{onSubmit:j(k,["prevent"]),class:"space-y-4"},[s.value?(d(),n("div",D,[t("ul",M,[t("li",null,q(s.value),1)])])):B("",!0),t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Имя",-1)),i(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r.value.name=o),type:"text",required:"",autofocus:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"Иван Иванов"},null,512),[[u,r.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email",-1)),i(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>r.value.email=o),type:"email",required:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"your@email.com"},null,512),[[u,r.value.email]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Пароль",-1)),i(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>r.value.password=o),type:"password",required:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"Минимум 8 символов"},null,512),[[u,r.value.password]]),e[7]||(e[7]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Пароль должен содержать минимум 8 символов ",-1))]),t("div",null,[e[8]||(e[8]=t("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Подтверждение пароля",-1)),i(t("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=o=>r.value.password_confirmation=o),type:"password",required:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"Повторите пароль"},null,512),[[u,r.value.password_confirmation]])]),t("button",{type:"submit",disabled:g.value,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[g.value?(d(),n("span",$,"Регистрация...")):(d(),n("span",T,"Зарегистрироваться"))],8,R)],32)]),t("p",A,[e[10]||(e[10]=f(" Уже есть аккаунт? ",-1)),N(l,{to:"/admin/login",class:"text-primary hover:underline"},{default:S(()=>[...e[9]||(e[9]=[f("Войти",-1)])]),_:1})])])])}}};export{z as default};
