import{d as _,e as w,r as h,o as s,c as r,a as t,j as f,k as b,w as V,t as N,f as S,g as j,v as A,i as u,l as m}from"./app-1a5e3182.js";const B={class:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center px-4"},C={class:"w-full max-w-md space-y-6"},P={class:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-sm"},D={key:0,class:"space-y-4"},E={class:"text-center"},M={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},T={class:"list-disc list-inside"},q=["disabled"],F={key:0},U={key:1},z={class:"text-center text-sm text-gray-600 dark:text-gray-400"},I={__name:"ForgotPasswordPage",setup(G){const c=_(),g=w(()=>c.loading),o=m(""),d=m(!1),i=m({email:""});async function v(){var n,e,a,l,p;o.value="",d.value=!1;try{await c.forgotPassword({email:i.value.email}),d.value=!0}catch(y){const k=((e=(n=y.response)==null?void 0:n.data)==null?void 0:e.message)??"Не удалось отправить ссылку. Проверьте email.",x=(p=(l=(a=y.response)==null?void 0:a.data)==null?void 0:l.errors)==null?void 0:p.email;o.value=Array.isArray(x)?x.join(" "):k}}return(n,e)=>{const a=h("router-link");return s(),r("div",B,[t("div",C,[e[6]||(e[6]=t("div",{class:"text-center"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Восстановление пароля"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Введите ваш email для восстановления пароля")],-1)),t("div",P,[d.value?(s(),r("div",D,[e[2]||(e[2]=t("div",{class:"mb-4 rounded-md bg-green-50 dark:bg-green-900/20 p-4"},[t("p",{class:"text-sm text-green-800 dark:text-green-200"}," Ссылка для восстановления пароля отправлена на указанный email. ")],-1)),t("div",E,[f(a,{to:"/admin/login",class:"block w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition-colors"},{default:b(()=>[...e[1]||(e[1]=[u(" Вернуться к входу ",-1)])]),_:1})])])):(s(),r("form",{key:1,onSubmit:V(v,["prevent"]),class:"space-y-4"},[o.value?(s(),r("div",M,[t("ul",T,[t("li",null,N(o.value),1)])])):S("",!0),t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email",-1)),j(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>i.value.email=l),type:"email",required:"",autofocus:"",class:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"your@email.com"},null,512),[[A,i.value.email]])]),t("button",{type:"submit",disabled:g.value,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[g.value?(s(),r("span",U,"Отправка...")):(s(),r("span",F,"Отправить ссылку"))],8,q)],32))]),t("p",z,[e[5]||(e[5]=u(" Вспомнили пароль? ",-1)),f(a,{to:"/admin/login",class:"text-primary hover:underline"},{default:b(()=>[...e[4]||(e[4]=[u("Войти",-1)])]),_:1})])])])}}};export{I as default};
